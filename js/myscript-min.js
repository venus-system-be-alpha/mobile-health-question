function undo(){const n=localStorage.getItem("venus-medical");if(n!=null){let t=0;const i=n.split("");$("fieldset").each(function(){$(this).find("input[name='customRadio']").val([i[t]]);t++})}}function isAnswer(n){let t=!0,i=0;return $(".form-group").each(function(){if(i==n){let n=String($(this).find("input[name='customRadio']:checked").val());if(n=="undefined")return t=!1,!1}i++}),t}$(function(){function r(){$(".js-index").html(this.currentSlide+1);$(".prev").prop("disabled",!1);$(".next").prop("disabled",!1);this.currentSlide===0&&$(".prev").prop("disabled",!0);this.currentSlide===t-1&&$(".next").prop("disabled",!0)}console.log(location.search);let t=0,i=1;for(const n of data){let r=[];r.push('<div><li><h5><div class="question">'+n.Question+"<\/div><\/h5>");r.push("<p><\/p>");r.push('<form><fieldset><div class="form-group">');for(const n of n.Answer)r.push('<div class="custom-control custom-radio">'),r.push('<input type="radio" id="customRadio_'+i+'"'),r.push('name="customRadio" class="custom-control-input"'),r.push('value="'+n.value+'">'),r.push('<label class="custom-control-label" for="customRadio_'+i+'">'),r.push("<h5>"+n.text+"<\/h5><\/label><\/div>"),i++;t++;r.push("<\/div><\/fieldset><\/form><\/li><\/div>");$(".siema").append(r.join(""))}const u='<p>質問: <span class="js-index"><\/span>/'+t+"<\/p>";$(".qindex").append(u);$("input:radio").attr("checked",!1);undo();const n=new Siema({draggable:!1,duration:1e3,onInit:r,onChange:r});$(".prev").click(()=>{n.prev()});$(".next").click(()=>{const t=isAnswer(Number($(".js-index").text())-1);t?n.next():$("#modal-nextcheck").modal("show")});$(".fa.fa-refresh").click(()=>{localStorage.removeItem("venus-medical"),$("input:radio").prop("checked",!1),n.goTo(0)});$('input[name="customRadio"]:radio').change(()=>{if(localStorage.getItem("venus-medical")==null){const t=isAnswer(Number($(".js-index").text()));t||setTimeout(function(){n.next()},1e3)}});$(".fa.fa-qrcode").click(()=>{let i=0,n="",r=!0,u=[];if($("fieldset").each(function(){i++;let t=String($(this).find("input[name='customRadio']:checked").val());t=="undefined"&&(r=!1,u.push(i));n+=t}),!r)return $(".no-answer").empty(),$(".no-answer").append('<h6>未回答<\/h6><p class="alert alert-info">'+u.join("　")+"<\/p>"),$("#modal-answer").modal("show"),!1;console.log("localstrage:"+n);localStorage.setItem("venus-medical",n);const t=new Date,e=t.getFullYear(),o=("00"+(t.getMonth()+1)).slice(-2),s=("00"+t.getDay()).slice(-2);n=e+"/"+o+"/"+s+n;const f=location.search.replace("?","");n+=f+"x".repeat(25-f.length);console.log("qrcode:"+n);$("#qrcode").empty();$("#qrcode").qrcode({text:n,background:"#fff",foreground:"#000"});const h=$("canvas"),c=h[0].toDataURL();return $("#qrcode-img").attr("src",c),$("#modal-qrcode").modal("show"),!1})})